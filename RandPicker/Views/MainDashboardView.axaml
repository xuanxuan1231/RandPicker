<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
             x:Class="RandPicker.Views.MainDashboardView">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- 标题栏 -->
    <Border Grid.Row="0" Background="#2E3440" Padding="20">
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="15">
          <TextBlock Text="学生管理系统" 
                     FontSize="24" 
                     FontWeight="Bold" 
                     Foreground="White" 
                     VerticalAlignment="Center"/>
          <TextBlock Text="|" 
                     FontSize="20" 
                     Foreground="#88C0D0" 
                     VerticalAlignment="Center"/>
          <TextBlock Text="综合管理平台" 
                     FontSize="16" 
                     Foreground="#88C0D0" 
                     VerticalAlignment="Center"/>
        </StackPanel>

        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
          <TextBlock Text="{Binding CurrentTime, StringFormat=yyyy年MM月dd日 HH:mm}" 
                     Foreground="#D8DEE9" 
                     VerticalAlignment="Center"/>
          <Border Background="#5E81AC" CornerRadius="15" Padding="10,5">
            <TextBlock Text="管理员" Foreground="White" FontSize="12"/>
          </Border>
        </StackPanel>
      </Grid>
    </Border>

    <!-- 主内容区域 -->
    <TabView Grid.Row="1" TabStripPlacement="Left">
      
      <!-- 学生档案管理 -->
      <TabViewItem Header="学生档案">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="👥" FontSize="16"/>
              <TextBlock Text="学生档案" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ContentControl Content="{Binding StudentManagementView}"/>
      </TabViewItem>

      <!-- 考勤管理 -->
      <TabViewItem Header="考勤管理">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="📅" FontSize="16"/>
              <TextBlock Text="考勤管理" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ContentControl Content="{Binding AttendanceManagementView}"/>
      </TabViewItem>

      <!-- 成绩管理 -->
      <TabViewItem Header="成绩管理">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="📊" FontSize="16"/>
              <TextBlock Text="成绩管理" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ContentControl Content="{Binding GradeManagementView}"/>
      </TabViewItem>

      <!-- 学习进度 -->
      <TabViewItem Header="学习进度">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="📈" FontSize="16"/>
              <TextBlock Text="学习进度" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ScrollViewer>
          <StackPanel Spacing="20" Margin="20">
            <TextBlock Text="学习进度跟踪" FontSize="20" FontWeight="Bold"/>
            
            <!-- 进度概览 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                  <TextBlock Text="总体进度" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                  <Border Background="#E8F5E8" Width="80" Height="80" CornerRadius="40">
                    <TextBlock Text="75%" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Green"/>
                  </Border>
                </StackPanel>

                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                  <TextBlock Text="已完成课程" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                  <Border Background="#E8F0FF" Width="80" Height="80" CornerRadius="40">
                    <TextBlock Text="24" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Blue"/>
                  </Border>
                </StackPanel>

                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                  <TextBlock Text="进行中课程" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                  <Border Background="#FFF8E8" Width="80" Height="80" CornerRadius="40">
                    <TextBlock Text="8" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Orange"/>
                  </Border>
                </StackPanel>

                <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                  <TextBlock Text="待开始课程" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                  <Border Background="#FFE8E8" Width="80" Height="80" CornerRadius="40">
                    <TextBlock Text="3" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Red"/>
                  </Border>
                </StackPanel>
              </Grid>
            </Border>

            <!-- 学科进度详情 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <StackPanel>
                <TextBlock Text="各学科学习进度" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
                
                <StackPanel Spacing="15">
                  <!-- 语文进度 -->
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="80"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="60"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="语文" VerticalAlignment="Center"/>
                    <ProgressBar Grid.Column="1" Value="85" Maximum="100" Height="8" Margin="10,0"/>
                    <TextBlock Grid.Column="2" Text="85%" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                  </Grid>

                  <!-- 数学进度 -->
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="80"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="60"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="数学" VerticalAlignment="Center"/>
                    <ProgressBar Grid.Column="1" Value="78" Maximum="100" Height="8" Margin="10,0"/>
                    <TextBlock Grid.Column="2" Text="78%" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                  </Grid>

                  <!-- 英语进度 -->
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="80"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="60"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="英语" VerticalAlignment="Center"/>
                    <ProgressBar Grid.Column="1" Value="92" Maximum="100" Height="8" Margin="10,0"/>
                    <TextBlock Grid.Column="2" Text="92%" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                  </Grid>

                  <!-- 物理进度 -->
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="80"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="60"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="物理" VerticalAlignment="Center"/>
                    <ProgressBar Grid.Column="1" Value="65" Maximum="100" Height="8" Margin="10,0"/>
                    <TextBlock Grid.Column="2" Text="65%" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                  </Grid>
                </StackPanel>
              </StackPanel>
            </Border>
          </StackPanel>
        </ScrollViewer>
      </TabViewItem>

      <!-- 行为评估 -->
      <TabViewItem Header="行为评估">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="⭐" FontSize="16"/>
              <TextBlock Text="行为评估" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ScrollViewer>
          <StackPanel Spacing="20" Margin="20">
            <TextBlock Text="学生行为表现评估" FontSize="20" FontWeight="Bold"/>
            
            <!-- 行为统计 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="#E8F5E8" Padding="15" Margin="5" CornerRadius="5">
                  <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="积极行为" FontWeight="Bold" HorizontalAlignment="Center"/>
                    <TextBlock Text="156" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Green"/>
                    <TextBlock Text="本月记录" FontSize="12" HorizontalAlignment="Center" Foreground="#666"/>
                  </StackPanel>
                </Border>

                <Border Grid.Column="1" Background="#FFF8E8" Padding="15" Margin="5" CornerRadius="5">
                  <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="中性行为" FontWeight="Bold" HorizontalAlignment="Center"/>
                    <TextBlock Text="23" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Orange"/>
                    <TextBlock Text="本月记录" FontSize="12" HorizontalAlignment="Center" Foreground="#666"/>
                  </StackPanel>
                </Border>

                <Border Grid.Column="2" Background="#FFE8E8" Padding="15" Margin="5" CornerRadius="5">
                  <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="消极行为" FontWeight="Bold" HorizontalAlignment="Center"/>
                    <TextBlock Text="8" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Red"/>
                    <TextBlock Text="本月记录" FontSize="12" HorizontalAlignment="Center" Foreground="#666"/>
                  </StackPanel>
                </Border>
              </Grid>
            </Border>

            <!-- 行为类别分析 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <StackPanel>
                <TextBlock Text="行为类别分析" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
                <TextBlock Text="详细的行为分类统计和趋势分析将在此显示..." Foreground="#666"/>
              </StackPanel>
            </Border>
          </StackPanel>
        </ScrollViewer>
      </TabViewItem>

      <!-- 家长沟通 -->
      <TabViewItem Header="家长沟通">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="📞" FontSize="16"/>
              <TextBlock Text="家长沟通" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ScrollViewer>
          <StackPanel Spacing="20" Margin="20">
            <TextBlock Text="家长沟通记录" FontSize="20" FontWeight="Bold"/>
            
            <!-- 沟通统计 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                  <TextBlock Text="本周沟通" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="12次" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Blue"/>
                </StackPanel>

                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                  <TextBlock Text="待跟进" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="3项" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Orange"/>
                </StackPanel>

                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                  <TextBlock Text="已解决" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="9项" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Green"/>
                </StackPanel>

                <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                  <TextBlock Text="满意度" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="95%" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Purple"/>
                </StackPanel>
              </Grid>
            </Border>

            <!-- 最近沟通记录 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <StackPanel>
                <TextBlock Text="最近沟通记录" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
                <TextBlock Text="最新的家长沟通记录和待办事项将在此显示..." Foreground="#666"/>
              </StackPanel>
            </Border>
          </StackPanel>
        </ScrollViewer>
      </TabViewItem>

      <!-- 系统日志 -->
      <TabViewItem Header="系统日志">
        <TabViewItem.HeaderTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <TextBlock Text="📋" FontSize="16"/>
              <TextBlock Text="系统日志" VerticalAlignment="Center"/>
            </StackPanel>
          </DataTemplate>
        </TabViewItem.HeaderTemplate>
        <ScrollViewer>
          <StackPanel Spacing="20" Margin="20">
            <TextBlock Text="操作日志记录" FontSize="20" FontWeight="Bold"/>
            
            <!-- 日志统计 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                  <TextBlock Text="今日操作" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="47次" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Blue"/>
                </StackPanel>

                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                  <TextBlock Text="成功率" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="98.9%" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Green"/>
                </StackPanel>

                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                  <TextBlock Text="异常操作" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                  <TextBlock Text="0次" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Red"/>
                </StackPanel>
              </Grid>
            </Border>

            <!-- 最近操作日志 -->
            <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="20">
              <StackPanel>
                <TextBlock Text="最近操作记录" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>
                <TextBlock Text="详细的系统操作日志将在此显示，包括用户操作、数据变更等..." Foreground="#666"/>
              </StackPanel>
            </Border>
          </StackPanel>
        </ScrollViewer>
      </TabViewItem>

    </TabView>
  </Grid>
</UserControl>